{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Welcome to your notebook.\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Run this cell to connect to your GIS and get started:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "#from arcgis.gis import GIS\n",
    "#gis = GIS(\"home\")\n",
    "import requests"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Now you are ready to start!"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "def generate_token(username, secret):\n",
    "    payload = {\n",
    "        'username': username,\n",
    "        'password': secret,\n",
    "        'expiration': 1440,\n",
    "         'referer': \"http://www.arcgis.com\",\n",
    "            'f' : \"json\"\n",
    "\n",
    "    }\n",
    "    \n",
    "\n",
    "    params = {\n",
    "        'f': 'json'\n",
    "    }\n",
    "    request = requests.post('https://www.arcgis.com/sharing/rest/generateToken', data=payload, params=params)\n",
    "    response = request.json()\n",
    "    token = response['token']\n",
    "    return token\n",
    "    \n",
    "\n",
    "\n",
    "\n",
    "token=generate_token(username=\".......\",secret=\"........\")\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'pqYIxKDieamkabWBwsb5HFggxoFNzq1uVA7fl-zGzeyFnMj6jJrV66YD95Xx_ZpSnimPku1y3bp4VfloZnIQc9RteyKZzTMRm-VuVnIPtMVwdw5fGwtfqwpS7Anxgd6eyM7WYQ9nzszFTw-i-4j_sfm1LBi6765vCB0kawIzF6l77IkyVZwlMJpWGld-Rs4E'"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "token\n"
   ]
  },
  {
   "cell_type": "raw",
   "metadata": {},
   "source": []
  },
  {
   "cell_type": "raw",
   "metadata": {},
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'currentVersion': 10.81,\n",
       " 'id': 0,\n",
       " 'name': 'base_alert_layer',\n",
       " 'type': 'Feature Layer',\n",
       " 'serviceItemId': '2f5a5835de9549eea231976d335adc66',\n",
       " 'cacheMaxAge': 30,\n",
       " 'displayField': '',\n",
       " 'description': '',\n",
       " 'copyrightText': '',\n",
       " 'defaultVisibility': True,\n",
       " 'editingInfo': {'lastEditDate': 1626705055065},\n",
       " 'relationships': [],\n",
       " 'isDataVersioned': False,\n",
       " 'hasContingentValuesDefinition': False,\n",
       " 'supportsAppend': True,\n",
       " 'supportsCalculate': True,\n",
       " 'supportsASyncCalculate': True,\n",
       " 'supportsTruncate': True,\n",
       " 'supportsAttachmentsByUploadId': True,\n",
       " 'supportsAttachmentsResizing': True,\n",
       " 'supportsRollbackOnFailureParameter': True,\n",
       " 'supportsStatistics': True,\n",
       " 'supportsExceedsLimitStatistics': True,\n",
       " 'supportsAdvancedQueries': True,\n",
       " 'supportsValidateSql': True,\n",
       " 'supportsCoordinatesQuantization': True,\n",
       " 'supportsLayerOverrides ': True,\n",
       " 'supportsTilesAndBasicQueriesMode': True,\n",
       " 'supportsFieldDescriptionProperty': True,\n",
       " 'supportsQuantizationEditMode': True,\n",
       " 'supportsApplyEditsWithGlobalIds': False,\n",
       " 'supportsReturningQueryGeometry': True,\n",
       " 'advancedQueryCapabilities': {'supportsPagination': True,\n",
       "  'supportsPaginationOnAggregatedQueries': True,\n",
       "  'supportsQueryRelatedPagination': True,\n",
       "  'supportsQueryWithDistance': True,\n",
       "  'supportsReturningQueryExtent': True,\n",
       "  'supportsStatistics': True,\n",
       "  'supportsOrderBy': True,\n",
       "  'supportsDistinct': True,\n",
       "  'supportsQueryWithResultType': True,\n",
       "  'supportsSqlExpression': True,\n",
       "  'supportsAdvancedQueryRelated': True,\n",
       "  'supportsCountDistinct': True,\n",
       "  'supportsPercentileStatistics': True,\n",
       "  'supportsLod': True,\n",
       "  'supportsQueryWithLodSR': False,\n",
       "  'supportedLodTypes': ['geohash'],\n",
       "  'supportsReturningGeometryCentroid': False,\n",
       "  'supportsQueryWithDatumTransformation': True,\n",
       "  'supportsHavingClause': True,\n",
       "  'supportsOutFieldSQLExpression': True,\n",
       "  'supportsMaxRecordCountFactor': True,\n",
       "  'supportsTopFeaturesQuery': True,\n",
       "  'supportsDisjointSpatialRel': True,\n",
       "  'supportsQueryWithCacheHint': True,\n",
       "  'supportsQueryAnalytic': True},\n",
       " 'useStandardizedQueries': True,\n",
       " 'geometryType': 'esriGeometryPoint',\n",
       " 'minScale': 0,\n",
       " 'maxScale': 0,\n",
       " 'extent': {'xmin': -179.9789208,\n",
       "  'ymin': -77.8418779,\n",
       "  'xmax': 180,\n",
       "  'ymax': 80.80770299999999,\n",
       "  'spatialReference': {'wkid': 4326, 'latestWkid': 4326}},\n",
       " 'drawingInfo': {'renderer': {'type': 'uniqueValue',\n",
       "   'field1': 'topic',\n",
       "   'uniqueValueInfos': [{'value': 'Government, Policy and Political Affairs - International Politics',\n",
       "     'label': 'Government, Policy and Political Affairs - International Politics',\n",
       "     'symbol': {'color': [237, 81, 81, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Public Health - Diseases',\n",
       "     'label': 'Public Health - Diseases',\n",
       "     'symbol': {'color': [20, 158, 206, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Covid-19: Cases & Statistics',\n",
       "     'label': 'Covid-19: Cases & Statistics',\n",
       "     'symbol': {'color': [167, 198, 54, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Covid-19: Corporate & Government Response',\n",
       "     'label': 'Covid-19: Corporate & Government Response',\n",
       "     'symbol': {'color': [158, 85, 156, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Government, Policy and Political Affairs - Social Issues',\n",
       "     'label': 'Government, Policy and Political Affairs - Social Issues',\n",
       "     'symbol': {'color': [252, 146, 31, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Covid-19: Healthcare Developments',\n",
       "     'label': 'Covid-19: Healthcare Developments',\n",
       "     'symbol': {'color': [255, 222, 62, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Government, Policy and Political Affairs - U.S. Politics',\n",
       "     'label': 'Government, Policy and Political Affairs - U.S. Politics',\n",
       "     'symbol': {'color': [247, 137, 216, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Public Health - Hazardous Materials',\n",
       "     'label': 'Public Health - Hazardous Materials',\n",
       "     'symbol': {'color': [183, 129, 74, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Extremist Public Messaging',\n",
       "     'label': 'Extremist Public Messaging',\n",
       "     'symbol': {'color': [60, 175, 153, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Transportation - Traffic and Roadways',\n",
       "     'label': 'Transportation - Traffic and Roadways',\n",
       "     'symbol': {'color': [107, 107, 214, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}}},\n",
       "    {'value': 'Infrastructure - Resources and Production',\n",
       "     'symbol': {'color': [181, 71, 121, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Infrastructure - Resources and Production'},\n",
       "    {'value': 'Government, Policy and Political Affairs - Regulation',\n",
       "     'symbol': {'color': [127, 127, 127, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Government, Policy and Political Affairs - Regulation'},\n",
       "    {'value': 'Government, Policy and Political Affairs - Immigration Policy',\n",
       "     'symbol': {'color': [237, 81, 81, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Government, Policy and Political Affairs - Immigration Policy'},\n",
       "    {'value': 'Crime - Criminal Activity',\n",
       "     'symbol': {'color': [20, 158, 206, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Crime - Criminal Activity'},\n",
       "    {'value': 'Covid-19: Public Disruption',\n",
       "     'symbol': {'color': [167, 198, 54, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Covid-19: Public Disruption'},\n",
       "    {'value': 'Disasters and Weather - Structure Fires and Collapses',\n",
       "     'symbol': {'color': [158, 85, 156, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Disasters and Weather - Structure Fires and Collapses'},\n",
       "    {'value': 'Public Health - Humanitarian Relief',\n",
       "     'symbol': {'color': [252, 146, 31, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Public Health - Humanitarian Relief'},\n",
       "    {'value': 'Disasters and Weather - Natural Disasters',\n",
       "     'symbol': {'color': [255, 222, 62, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Disasters and Weather - Natural Disasters'},\n",
       "    {'value': 'Public Health - Policy and Technology',\n",
       "     'symbol': {'color': [247, 137, 216, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Public Health - Policy and Technology'},\n",
       "    {'value': 'Infrastructure - Utilities',\n",
       "     'symbol': {'color': [183, 129, 74, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Infrastructure - Utilities'},\n",
       "    {'value': 'Infrastructure - Commercial',\n",
       "     'symbol': {'color': [60, 175, 153, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Infrastructure - Commercial'},\n",
       "    {'value': 'Crime - Legal Action',\n",
       "     'symbol': {'color': [107, 107, 214, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Crime - Legal Action'},\n",
       "    {'value': 'Conflict and Terrorism',\n",
       "     'symbol': {'color': [181, 71, 121, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Conflict and Terrorism'},\n",
       "    {'value': 'Crime - Narcotics',\n",
       "     'symbol': {'color': [127, 127, 127, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Crime - Narcotics'},\n",
       "    {'value': 'Threats and Precautions',\n",
       "     'symbol': {'color': [237, 81, 81, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Threats and Precautions'},\n",
       "    {'value': 'Transportation - Maritime',\n",
       "     'symbol': {'color': [20, 158, 206, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Transportation - Maritime'},\n",
       "    {'value': 'Transportation - Aviation',\n",
       "     'symbol': {'color': [167, 198, 54, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Transportation - Aviation'},\n",
       "    {'value': 'Infrastructure - Public',\n",
       "     'symbol': {'color': [158, 85, 156, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Infrastructure - Public'},\n",
       "    {'value': 'Transportation - Rail',\n",
       "     'symbol': {'color': [252, 146, 31, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Transportation - Rail'},\n",
       "    {'value': 'Crime - Transnational',\n",
       "     'symbol': {'color': [255, 222, 62, 255],\n",
       "      'size': 6,\n",
       "      'angle': 0,\n",
       "      'xoffset': 0,\n",
       "      'yoffset': 0,\n",
       "      'type': 'esriSMS',\n",
       "      'style': 'esriSMSCircle',\n",
       "      'outline': {'color': [153, 153, 153, 64],\n",
       "       'width': 0.75,\n",
       "       'type': 'esriSLS',\n",
       "       'style': 'esriSLSSolid'}},\n",
       "     'label': 'Crime - Transnational'}]},\n",
       "  'transparency': 0},\n",
       " 'allowGeometryUpdates': True,\n",
       " 'hasAttachments': False,\n",
       " 'htmlPopupType': 'esriServerHTMLPopupTypeNone',\n",
       " 'hasM': False,\n",
       " 'hasZ': False,\n",
       " 'objectIdField': 'OBJECTID',\n",
       " 'uniqueIdField': {'name': 'OBJECTID', 'isSystemMaintained': True},\n",
       " 'globalIdField': '',\n",
       " 'typeIdField': 'topic',\n",
       " 'fields': [{'name': 'OBJECTID',\n",
       "   'type': 'esriFieldTypeOID',\n",
       "   'alias': 'OBJECTID',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'nullable': False,\n",
       "   'editable': False,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'alertId',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Alert Id',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 128,\n",
       "   'nullable': False,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'relatedTermsQueryURL',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Related Terms Query URL',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 1024,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'eventTime',\n",
       "   'type': 'esriFieldTypeDate',\n",
       "   'alias': 'Event Time',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 0,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'radius',\n",
       "   'type': 'esriFieldTypeDouble',\n",
       "   'alias': 'Radius',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'place',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Place',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 256,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'caption',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Caption',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 2048,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'alertType',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Alert Type',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 32,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'publisherCategory',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Publisher Category',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 32,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'expandAlertURL',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Expand Alert URL',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 256,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'relatedTerms',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Related Terms',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 1024,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'categories',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Categories',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 4096,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'channels',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Channels',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 1024,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'postLink',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Post Link',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 256,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'topic',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Topic',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 128,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'mediaLink',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Media Link',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 256,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'mediaPhoto',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Media Photo',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 256,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None},\n",
       "  {'name': 'uniqueKey',\n",
       "   'type': 'esriFieldTypeString',\n",
       "   'alias': 'Primary Key',\n",
       "   'sqlType': 'sqlTypeOther',\n",
       "   'length': 144,\n",
       "   'nullable': True,\n",
       "   'editable': True,\n",
       "   'domain': None,\n",
       "   'defaultValue': None}],\n",
       " 'indexes': [{'name': 'user_55975.base_alert_layer_BASE_ALERT_LAYER_Shape_sidx',\n",
       "   'fields': 'Shape',\n",
       "   'isAscending': False,\n",
       "   'isUnique': False,\n",
       "   'description': 'Shape Index'},\n",
       "  {'name': 'PK__base_ale__F4B70D853F20F4B5',\n",
       "   'fields': 'OBJECTID',\n",
       "   'isAscending': True,\n",
       "   'isUnique': True,\n",
       "   'description': 'clustered, unique, primary key'},\n",
       "  {'name': 'topic_Index',\n",
       "   'fields': 'topic',\n",
       "   'isAscending': True,\n",
       "   'isUnique': False,\n",
       "   'description': 'topic_Index'},\n",
       "  {'name': 'uniqueKey_Index',\n",
       "   'fields': 'uniqueKey',\n",
       "   'isAscending': False,\n",
       "   'isUnique': True,\n",
       "   'description': ''},\n",
       "  {'name': 'eventTime_Index',\n",
       "   'fields': 'eventTime',\n",
       "   'isAscending': True,\n",
       "   'isUnique': False,\n",
       "   'description': 'eventTime_Index'},\n",
       "  {'name': 'alertType_Index',\n",
       "   'fields': 'alertType',\n",
       "   'isAscending': True,\n",
       "   'isUnique': False,\n",
       "   'description': 'alertType_Index'}],\n",
       " 'dateFieldsTimeReference': {'timeZone': 'UTC',\n",
       "  'respectsDaylightSaving': False},\n",
       " 'preferredTimeReference': None,\n",
       " 'types': [{'id': 'Government, Policy and Political Affairs - International Politics',\n",
       "   'name': 'Government, Policy and Political Affairs - International Politics',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Government, Policy and Political Affairs - International Politics',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Government, Policy and Political Affairs - International Politics',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Public Health - Diseases',\n",
       "   'name': 'Public Health - Diseases',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Public Health - Diseases',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Public Health - Diseases',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Covid-19: Cases & Statistics',\n",
       "   'name': 'Covid-19: Cases & Statistics',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Covid-19: Cases & Statistics',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Covid-19: Cases & Statistics',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Covid-19: Corporate & Government Response',\n",
       "   'name': 'Covid-19: Corporate & Government Response',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Covid-19: Corporate & Government Response',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Covid-19: Corporate & Government Response',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Government, Policy and Political Affairs - Social Issues',\n",
       "   'name': 'Government, Policy and Political Affairs - Social Issues',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Government, Policy and Political Affairs - Social Issues',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Government, Policy and Political Affairs - Social Issues',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Covid-19: Healthcare Developments',\n",
       "   'name': 'Covid-19: Healthcare Developments',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Covid-19: Healthcare Developments',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Covid-19: Healthcare Developments',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Government, Policy and Political Affairs - U.S. Politics',\n",
       "   'name': 'Government, Policy and Political Affairs - U.S. Politics',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Government, Policy and Political Affairs - U.S. Politics',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Government, Policy and Political Affairs - U.S. Politics',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Public Health - Hazardous Materials',\n",
       "   'name': 'Public Health - Hazardous Materials',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Public Health - Hazardous Materials',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Public Health - Hazardous Materials',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Extremist Public Messaging',\n",
       "   'name': 'Extremist Public Messaging',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Extremist Public Messaging',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Extremist Public Messaging',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Transportation - Traffic and Roadways',\n",
       "   'name': 'Transportation - Traffic and Roadways',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Transportation - Traffic and Roadways',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Transportation - Traffic and Roadways',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Infrastructure - Resources and Production',\n",
       "   'name': 'Infrastructure - Resources and Production',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Infrastructure - Resources and Production',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Infrastructure - Resources and Production',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Government, Policy and Political Affairs - Regulation',\n",
       "   'name': 'Government, Policy and Political Affairs - Regulation',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Government, Policy and Political Affairs - Regulation',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Government, Policy and Political Affairs - Regulation',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Government, Policy and Political Affairs - Immigration Policy',\n",
       "   'name': 'Government, Policy and Political Affairs - Immigration Policy',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Government, Policy and Political Affairs - Immigration Policy',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Government, Policy and Political Affairs - Immigration Policy',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Crime - Criminal Activity',\n",
       "   'name': 'Crime - Criminal Activity',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Crime - Criminal Activity',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Crime - Criminal Activity',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Covid-19: Public Disruption',\n",
       "   'name': 'Covid-19: Public Disruption',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Covid-19: Public Disruption',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Covid-19: Public Disruption',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Disasters and Weather - Structure Fires and Collapses',\n",
       "   'name': 'Disasters and Weather - Structure Fires and Collapses',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Disasters and Weather - Structure Fires and Collapses',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Disasters and Weather - Structure Fires and Collapses',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Public Health - Humanitarian Relief',\n",
       "   'name': 'Public Health - Humanitarian Relief',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Public Health - Humanitarian Relief',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Public Health - Humanitarian Relief',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Disasters and Weather - Natural Disasters',\n",
       "   'name': 'Disasters and Weather - Natural Disasters',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Disasters and Weather - Natural Disasters',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Disasters and Weather - Natural Disasters',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Public Health - Policy and Technology',\n",
       "   'name': 'Public Health - Policy and Technology',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Public Health - Policy and Technology',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Public Health - Policy and Technology',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Infrastructure - Utilities',\n",
       "   'name': 'Infrastructure - Utilities',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Infrastructure - Utilities',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Infrastructure - Utilities',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Infrastructure - Commercial',\n",
       "   'name': 'Infrastructure - Commercial',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Infrastructure - Commercial',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Infrastructure - Commercial',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Crime - Legal Action',\n",
       "   'name': 'Crime - Legal Action',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Crime - Legal Action',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Crime - Legal Action',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Conflict and Terrorism',\n",
       "   'name': 'Conflict and Terrorism',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Conflict and Terrorism',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Conflict and Terrorism',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Crime - Narcotics',\n",
       "   'name': 'Crime - Narcotics',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Crime - Narcotics',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Crime - Narcotics',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Threats and Precautions',\n",
       "   'name': 'Threats and Precautions',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Threats and Precautions',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Threats and Precautions',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Transportation - Maritime',\n",
       "   'name': 'Transportation - Maritime',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Transportation - Maritime',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Transportation - Maritime',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Transportation - Aviation',\n",
       "   'name': 'Transportation - Aviation',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Transportation - Aviation',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Transportation - Aviation',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Infrastructure - Public',\n",
       "   'name': 'Infrastructure - Public',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Infrastructure - Public',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Infrastructure - Public',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Transportation - Rail',\n",
       "   'name': 'Transportation - Rail',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Transportation - Rail',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Transportation - Rail',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]},\n",
       "  {'id': 'Crime - Transnational',\n",
       "   'name': 'Crime - Transnational',\n",
       "   'domains': {},\n",
       "   'templates': [{'name': 'Crime - Transnational',\n",
       "     'description': '',\n",
       "     'drawingTool': 'esriFeatureEditToolNone',\n",
       "     'prototype': {'attributes': {'topic': 'Crime - Transnational',\n",
       "       'alertId': None,\n",
       "       'relatedTermsQueryURL': None,\n",
       "       'eventTime': None,\n",
       "       'radius': None,\n",
       "       'place': None,\n",
       "       'caption': None,\n",
       "       'alertType': None,\n",
       "       'publisherCategory': None,\n",
       "       'expandAlertURL': None,\n",
       "       'relatedTerms': None,\n",
       "       'categories': None,\n",
       "       'channels': None,\n",
       "       'postLink': None,\n",
       "       'mediaLink': None,\n",
       "       'mediaPhoto': None,\n",
       "       'uniqueKey': None}}}]}],\n",
       " 'templates': [],\n",
       " 'supportedQueryFormats': 'JSON, geoJSON, PBF',\n",
       " 'supportedAppendFormats': 'sqlite,gpkg,shapefile,filegdb,featureCollection,geojson,csv,excel',\n",
       " 'supportedExportFormats': 'csv,shapefile,sqlite,gpkg,filegdb,featureCollection,geojson,excel',\n",
       " 'supportedContingentValuesFormats': 'JSON, PBF',\n",
       " 'hasStaticData': True,\n",
       " 'maxRecordCount': 10000,\n",
       " 'standardMaxRecordCount': 32000,\n",
       " 'standardMaxRecordCountNoGeometry': 32000,\n",
       " 'tileMaxRecordCount': 8000,\n",
       " 'maxRecordCountFactor': 1,\n",
       " 'capabilities': 'Query,Extract'}"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "url=\"https://services2.arcgis.com/Hswtn9wQRUJRNdR3/ArcGIS/rest/services/base_alert_layer/FeatureServer/0/?&token=pqYIxKDieamkabWBwsb5HFggxoFNzq1uVA7fl-zGzeyFnMj6jJrV66YD95Xx_ZpSnimPku1y3bp4VfloZnIQc9RteyKZzTMRm-VuVnIPtMVwdw5fGwtfqwpS7Anxgd6eyM7WYQ9nzszFTw-i-4j_sfm1LBi6765vCB0kawIzF6l77IkyVZwlMJpWGld-Rs4E&f=json\"\n",
    "data = requests.get(url).json()\n",
    "data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "import urllib\n",
    "import urllib2\n",
    "import httplib\n",
    "import time\n",
    "import json\n",
    "import contextlib\n",
    "\n",
    "def get_token(portal_url, username, password):\n",
    "    \"\"\" Returns an authentication token for use in ArcGIS Online.\"\"\"\n",
    "\n",
    "    # Set the username and password parameters before\n",
    "    #  getting the token. \n",
    "    #\n",
    "    params = {\"username\": username,\n",
    "              \"password\": password,\n",
    "              \"referer\": \"http://www.arcgis.com\",\n",
    "              \"f\": \"json\"}\n",
    "\n",
    "    token_url = \"{}/generateToken\".format(portal_url)\n",
    "    request = urllib2.Request(token_url, urllib.urlencode(params))\n",
    "    token_response = submit_request(request)\n",
    "    if \"token\" in token_response:\n",
    "        print(\"Getting token...\")\n",
    "        token = token_response.get(\"token\")\n",
    "        return token\n",
    "    else:\n",
    "        # Request for token must be made through HTTPS.\n",
    "        #\n",
    "        if \"error\" in token_response:\n",
    "            error_mess = token_response.get(\"error\", {}).get(\"message\")\n",
    "            if \"This request needs to be made over https.\" in error_mess:\n",
    "                token_url = token_url.replace(\"http://\", \"https://\")\n",
    "                token = get_token(token_url, username, password)\n",
    "                return token\n",
    "            else:\n",
    "                raise Exception(\"Portal error: {} \".format(error_mess))\n",
    "                \n",
    "                "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "get_token(\"https://startups.maps.arcgis.com\",\"bsharma_startups\",\"brine0912\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "esriNotebookRuntime": {
   "notebookRuntimeName": "ArcGIS Notebook Python 3 Standard",
   "notebookRuntimeVersion": "5.0"
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.9"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
